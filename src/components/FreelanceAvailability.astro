---
import type { HTMLAttributes } from "astro/types";
import { cva, type VariantProps } from "class-variance-authority";
import { classnames } from "@/utils/classnames";

interface Props extends HTMLAttributes<"a"> {
  availability: "available" | "limited" | "none";
}

const availabilityClass = {
  available: "bg-green-500",
  limited: "bg-amber-500",
  none: "bg-red-500",
}[Astro.props.availability];

const availabilityText = {
  available: "I am currently available for freelance work.",
  limited: "I currently have limited capacity for freelance work.",
  none: "I am currently unavailable for freelance work.",
}[Astro.props.availability];

const { availability, ...props } = Astro.props;
---

<!-- <a
  class={classnames(
    "backdrop-blur-sm bg-white/30 font-mono flex items-center gap-3 border rounded-full py-1 px-3 text-neutral-900 fixed",
    Astro.props.class
  )}
  {...props}
>
  <span class="relative flex h-3 w-3">
    <span
      class={classnames(
        "animate-ping absolute inline-flex h-full w-full rounded-full not-odd:opacity-90",
        availabilityClass
      )}></span>
    <span
      class={classnames(
        "relative inline-flex rounded-full h-3 w-3",
        availabilityClass
      )}></span>
  </span>
  {availabilityText}
</a> -->

<div class="sticky text-center bottom-4 mt-8">
  <!-- text-[clamp(12px,1vw,24px)]  -->
  <a
    href="mailto:garethlegrange+work@gmail.com"
    rel="nofollow"
    class="font-geist-mono inline-flex items-center gap-3 md:whitespace-nowrap text-xs md:text-sm lg:text-base border rounded-full py-1 px-3 bg-neutral-50 text-neutral-900 border-neutral-200 p-4 shadow-sm"
  >
    <span class="relative flex h-3 w-3">
      <span
        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-90"
      ></span>
      <span class="relative inline-flex rounded-full h-3 w-3 bg-amber-500"
      ></span>
    </span>
    <span>I currently have <strong>limited</strong> capacity for freelance work.</span>
    <svg
      class="size-3 fill-slate-900 ml-auto"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 256 256"
      ><path
        d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"
      ></path></svg
    >
  </a>
</div>
